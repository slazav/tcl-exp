#!/usr/bin/wish

## Test timeplot
source ../exp_tcl/timeplot.tcl

TimePlot pl .pl\
  -ncols 3\
  -maxt 10\
  -names {D1 D2 D3}\
  -plots_x {time D1 D2 D3}\
  -plots_y {{} {D2 D3} D3 {}}\
  -use_comm 1

pack .pl -expand yes -fill both

proc add {} {
  set t [expr [clock milliseconds]/1000.0]
  set d1 [expr rand()]
  set d2 [expr rand()]
  set d3 [expr rand()]
  pl add_data $t [list $d1 $d2 $d3]
  after 200 add
}


proc add_comm {} {
  set t [expr [clock milliseconds]/1000.0]
  pl add_comment $t "$t"
  after 5000 add_comm
}

add
add_comm